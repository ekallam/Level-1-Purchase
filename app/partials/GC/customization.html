<div class="row">
    <form name="award_customization" novalidate="">
    <div ng-show="!showAwardMaker || isDesktop()" class="col-md-3">
        <div ng-show="recipientList.length != 0">
            <div class="input-group" style="margin-bottom:5px;">
                <span class="input-group-addon"><i class="fa fa-search"></i></span>
                <input class="form-control view-form-icon" placeholder="Search Recipient List..." type="text" ng-model="recipientListSearchTerm" />
            </div>
            <div>
                <p class="text-primary pull-right"><small>{{ '(' +recipientList.length+ ')'}}</small></p>
                <div class="checkbox">
                    <label>
                        <input type="checkbox"
                               ng-model="awardlessRecipients"
                               name="awardlessRecipientsChbx"
                               ng-true-value="true"
                               ng-false-value="false"/>
                        <small>View Recipients With No Awards</small>
                    </label>
                </div>
                <div class="checkbox">
                    <label>
                        <input type="checkbox"
                               ng-model="selectAllRecipients"
                               ng-click="selectAllRecipientsToggle(selectAllRecipients)"
                               name="selectAllRecipientsChbx"
                               value={{selectAllRecipients}}
                               ng-true-value="true"
                               ng-false-value="false" />
                        <small>Select All Recipients</small>
                    </label>
                </div>
            </div>
            <div class="recipient-list-container">
                <div class="recipient-list-scrollbox">
                    <ul class="list-group">
                        <li class="list-group-item recipient-list-item" ng-repeat="recipient in recipientList | filter:recipientListSearchTerm | awardlessRecipients:awardlessRecipients" ng-click="selectRecipient(recipient)" ng-class="{'selected-recipient-list-item': recipient.Selected}">
                            <i style="padding-top:10px;" class="fa fa-3x pull-right" ng-show="!recipient.Invalid" ng-class="{'text-success fa-check-circle': recipient.Selected && recipient.AwardCount == 0, 'fa-circle-o text-muted':recipient.AwardCount == 0 && !recipient.Selected, 'fa-circle text-primary': recipient.AwardCount != 0 && !recipient.Selected, 'fa-circle text-success':recipient.AwardCount != 0 && recipient.Selected}"></i>
                            <i style="padding-top:10px; z-index:9999;" class="fa fa-3x pull-right fa-exclamation-circle text-danger" ng-show="recipient.Invalid"></i>
                            <div class="recipient-list-item-text">
                                <div style="position:absolute; top:17px; right:12px; font-size:20px; font-weight:bold; color:#FFF;" ng-show="recipient.AwardCount > 0" class="award-count">{{recipient.AwardCount}}</div>
                                <i style="padding-top:3px; padding-right:7px;" class="fa fa-user pull-left text-muted" ng-class="{'text-success': recipient.Selected}"></i>
                                <p ng-class="{'text-success': recipient.Selected}">{{recipient.FirstName || recipient.ShipToFirstName}} {{recipient.LastName || recipient.ShipToLastName}} <span style="margin-left:5px;" class="badge" ng-show="recipient.Denomination">{{recipient.Denomination}}</span></p>
                                <p ng-class="{'text-success': recipient.Selected, 'text-primary': !recipient.Selected}"><small><em>{{recipient.Email || recipient.City + ', ' +recipient.State}}</em></small></p>
                            </div>
                            <div style="clear:both;"></div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="alert alert-danger" ng-show="recipientList.length == 0">No Recipients</div>
        <div class="alert alert-info" ng-show="!digitalProduct">
            <input type="checkbox"
                   ng-model="anonymousAwards"
                   ng-true-value="true"
                   ng-false-value="false"
                   ng-change="analyzeRecipientGroup(anonymousAwards)"> Add Anonymous Awards
            <div class="view-form-icon" ng-show="anonymousAwards == 'true'">
                <input placeholder="Quantity" class="form-control" type="text" ng-required="anonymousAwards == 'true'" name="qtyInput" ng-model="selectedProduct.anonymousQty" />
                <i class="fa fa-edit"></i>
            </div>
        </div>
    </div>
    <div ng-show="showAwardMaker || isDesktop()" class="col-md-9">
        <div class="well">
            <loadingindicator ng-show="selectedProduct.productLoadingIndicator" title="Please wait while your product is updated" />
            <loadingindicator ng-show="selectedProduct.buildingProductsIndicator" title="Please wait while your product(s) are generated" />
            <div class="row">
                <div class="col-sm-4">
                    <div class="form-group">
                            <div class="btn-group-vertical btn-group">
                                <button style="border-top-right-radius:4px;" class="btn btn-primary" ng-click="productTypeSelect('Standard')">
                                    <i style="font-size:1.35em;" class="fa fa-check-circle-o pull-left" ng-show="selectedProductType == 'Standard'"></i>
                                    Standard
                                </button>
                                <button class="btn btn-success" ng-click="productTypeSelect('Premium')">
                                    <i style="font-size:1.35em;" class="fa fa-check-circle-o pull-left" ng-show="selectedProductType == 'Premium'"></i>
                                    Premium
                                </button>
                                <!--<button class="btn btn-default" ng-class="{'active': selectedProductType == 'Holiday'}" ng-click="productTypeSelect('Holiday')">Holiday</button>-->
                                <button class="btn btn-danger" ng-show="selectedProductType != 'GreetingCardSuperCert'" ng-click="productTypeSelect('Canadian')">
                                    <i style="font-size:1.35em;" class="fa fa-check-circle-o pull-left" ng-show="selectedProductType == 'Canadian'"></i>
                                    Canadian
                                </button>
                            </div>
                    </div>
                    <div class="form-group">
                        <label>Design</label>
                        <select class="form-control"
                                ng-required="true"
                                ng-change="designChanged()"
                                ng-model="selectedProduct.designSelection"
                                ng-options="option as (option.Value | gcProductDesignNames) for option in selectedProductDetails.Specs | gcProductDesigns:selectedProduct">
                            <option value=""></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Occasion Message</label>
                        <select class="form-control"
                                ng-required="true"
                                ng-change="occasionMessageChanged()"
                                ng-model="selectedProduct.occasionMessage"
                                ng-options="message for message in occasionMessages">
                            <option value=""></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Denomination</label>
                        <select class="form-control"
                                ng-required="denominationRequired"
                                ng-change="denominationChange()"
                                ng-model="selectedProduct.denomination"
                                ng-options="denom as denom.Value for denom in selectedProductDetails.Specs | gcProductDenominations">
                            <option value=""></option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-8">
                    <div class="form-group">
                        <label>
                            <span ng-show="selectedProduct.OpeningMessageOption == 'Custom Message'">Custom </span>Opening Message
                        </label>
                        <div ng-hide="selectedProduct.OpeningMessageOption == 'Custom Message'" class="btn-group" ng-model="selectedProduct.OpeningMessageOption" ng-init="selectedProduct.OpeningMessageOption = 'First and Last Name'" bs-radio-group>
                            <label class="btn btn-default"><input class="btn btn-default" value="First and Last Name" type="radio"> Full Name</label>
                            <label class="btn btn-default"><input class="btn btn-default" value="First Name Only" type="radio"> First Name</label>
                            <label class="btn btn-default"><input class="btn btn-default" value="Custom Message" type="radio"> Custom Text</label>
                            <label class="btn btn-default"><input class="btn btn-default" value="None" type="radio"> None</label>
                        </div>
                        <div  ng-show="selectedProduct.OpeningMessageOption == 'Custom Message'" class="input-group">
                            <input ng-required="selectedProduct.OpeningMessageOption == 'Custom Message'" class="form-control" ng-maxlength="50" ng-model="selectedProduct.CustomOpeningMessage" type="text" placeholder="Ex. Dear Employee, (Up to 50 characters)">
                            <div class="input-group-btn"><div class="btn btn-danger" ng-click="selectedProduct.CustomOpeningMessage = ''; selectedProduct.OpeningMessageOption = 'First and Last Name'">Cancel</div></div>
                        </div>
                    </div>

                    <div class="form-group" ng-show="selectedProductDetails.PersonalMessages.length > 0">
                        <label>Select From a Previous Personal Message</label>
                        <select class="form-control"
                                ng-model="selectedProduct.PersonalMessage"
                                ng-options="message for message in selectedProductDetails.PersonalMessages">
                            <option value=""></option>
                        </select>
                    </div>

                    <div class="form-group">
                        <textarea class="form-control" ng-maxlength="300" ng-model="selectedProduct.PersonalMessage" placeholder="Custom personal message..." data-placement="top-right" title="{{messagepopover.title}}" data-content="{{messagepopover.content}}" data-trigger="focus" bs-popover/>
                    </div>

                    <div class="form-group" style="margin-bottom:20px;">
                        <input type="text" class="form-control" ng-maxlength="50" ng-model="selectedProduct.ClosingMessage" placeholder="Custom closing message..." data-placement="top-right" title="{{closingpopover.title}}" data-content="{{closingpopover.content}}" data-trigger="focus" bs-popover/>
                    </div>

                    <div class="row" ng-show="digitalProduct">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Email Subject..." ng-required="digitalProduct && emailSubjectRequired" ng-model="selectedProduct.EmailSubject" data-trigger="focus" title="Email Subject" bs-tooltip/>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <input class="form-control" type="text" placeholder="Requested Delivery Date" ng-required="digitalProduct" ui-date="{ dateFormat: 'mm/dd/yy' }" ui-date-format ng-model="selectedProduct.DeliveryDate" data-trigger="focus" title="Requested Delivery Date" bs-tooltip/>
                                <!--<input class="form-control" type="text" placeholder="Requested Delivery Date" ng-model="selectedProduct.DeliveryDate" data-autoclose="1" data-min-date="today" bs-datepicker/>-->
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Save As</label>
                        <input ng-required="true" type="text" class="form-control" ng-maxlength="50" ng-model="selectedProduct.SaveAs" placeholder="Ex. HR order 8/10/11" />
                    </div>
                </div>
            </div>
            <div class="btn btn-primary btn-block btn-lg hidden-sm hidden-xs" ng-disabled="(award_customization.$invalid) || (anonymousAwards == 'true' && !(selectedProduct.anonymousQty > 0))" ng-click="createAwards()">Create Awards</div>
        </div>
        <!--Design: {{selectedProduct.designSelection}}-->
        <!--<br/>-->
        <!--Design ID: {{selectedProduct.selectedDesignID}}-->
        <!--<br/>-->
        <!--Occasion Msg: {{selectedProduct.occasionMessage}}-->
        <!--<br/>-->
        <!--Image Name: {{selectedProduct.imageName}}-->
        <!--<br/>-->
        <!--Occasion ID: {{selectedProduct.occasionMessageID}}-->
        <!--<br/>-->
        <!--InteropID: {{selectedProduct.InteropID}}-->
        <!--<br/>-->
        <!--Denom: {{selectedProduct.denomination}}-->
        <!--<br/>-->
        <!--Opening Message Option: {{selectedProduct.OpeningMessageOption}}-->
        <!--<br/>-->
        <!--Custom Message: {{selectedProduct.CustomOpeningMessage}}-->
        <!--<br/>-->
        <!--Personal Message: {{selectedProduct.PersonalMessage}}-->
        <!--<br/>-->
        <!--Closing Message: {{selectedProduct.ClosingMessage}}-->
        <!--<br/>-->
        <!--Save As: {{selectedProduct.SaveAs}}-->
    </div>
    <div class="view-footer navbar-fixed-bottom hidden-lg hidden-md">
        <ul class="view-footer-buttons" ng-show="!showAwardMaker">
            <li style="width:50%;">
                <button class="btn btn-warning" ng-click="$parent.step = 2">Edit List</button>
            </li>
            <li style="width:50%;">
                <button class="btn btn-primary" ng-click="showAwardMaker = true;">Done Selecting</button>
            </li>
        </ul>
        <ul class="view-footer-buttons" ng-show="showAwardMaker">
            <li style="width:50%;">
                <button class="btn btn-primary" ng-click="showAwardMaker = false;">Select Recipients</button>
            </li>
            <li style="width:50%;">
                <button class="btn btn-success" ng-click="createAwards()" ng-disabled="award_customization.$invalid">Create Awards</button>
            </li>
        </ul>
    </div>
    </form>
</div>
